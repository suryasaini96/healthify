{"ast":null,"code":"var _jsxFileName = \"D:\\\\Libraries\\\\Desktop\\\\CDAC\\\\e-HealthBuddy\\\\e-HealthBuddy-frontend\\\\e-healthbuddy-frontend\\\\src\\\\components\\\\CovidTrackerComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport CovidTrackerService from '../services/CovidTrackerService'; // class CovidTrackerComponent extends Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             country: []\n//         }\n//     }\n//     componentDidMount() {\n//         CovidTrackerService.getData().then(resp=>{\n//             this.setState({country: resp.data});\n//         })\n//     }\n//     render() {\n//         const d = {\n//             //labels: labels,\n//             datasets: [{\n//               label: 'My First Dataset',\n//               data: [65, 59, 80, 81, 56, 55, 40],\n//               fill: false,\n//               borderColor: 'rgb(75, 192, 192)',\n//               tension: 0.1\n//             }]\n//           };\n//         return (\n//             <Line data = {d}/>\n//         )\n//     }\n// }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CovidTrackerComponent = () => {\n  _s();\n\n  const [chartData, setChartData] = useState({});\n\n  const chart = () => {\n    let population, total_cases, total_deaths, total_recovered;\n    let dates = [],\n        cases = [],\n        deaths = [],\n        recovered = [];\n    CovidTrackerService.getData().then(res => {\n      console.log(res);\n      const latest_data = res.data.latest_data;\n      console.log(latest_data);\n      population = res.population;\n      console.log(population);\n      total_deaths = latest_data.deaths;\n      total_cases = latest_data.confirmed;\n      total_recovered = latest_data.recovered;\n      res.timeline.forEach(data => {\n        dates.push(data.date);\n        cases.push(data.confirmed);\n        deaths.push(data.deaths);\n        recovered.push(data.recovered);\n      }); // Getting daily recent 7 days data\n      //daily = timeline.slice(0,7);\n    }).catch(err => console.log(err));\n    console.log(population);\n    console.log(cases);\n    console.log(deaths);\n    setChartData({\n      labels: [],\n      datasets: [{\n        label: \"Cumulative\",\n        data: cases,\n        backgroundColor: [\"rgba(75,192,192,0.6)\"],\n        borderWidth: 4\n      }]\n    });\n  };\n\n  useEffect(() => {\n    chart();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Line, {\n    data: chartData,\n    options: {\n      responsive: true,\n      title: {\n        text: \"Cumulative Graph\",\n        display: true\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            autoSkip: true,\n            maxTicksLimit: 10,\n            beginAtZero: true\n          },\n          gridLines: {\n            display: false\n          }\n        }],\n        xAxes: [{\n          gridLines: {\n            display: false\n          }\n        }]\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CovidTrackerComponent, \"qLlYZUJv3crif/0xI+dehEQf0o0=\");\n\n_c = CovidTrackerComponent;\nexport default CovidTrackerComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"CovidTrackerComponent\");","map":{"version":3,"sources":["D:/Libraries/Desktop/CDAC/e-HealthBuddy/e-HealthBuddy-frontend/e-healthbuddy-frontend/src/components/CovidTrackerComponent.js"],"names":["React","useState","useEffect","Line","CovidTrackerService","CovidTrackerComponent","chartData","setChartData","chart","population","total_cases","total_deaths","total_recovered","dates","cases","deaths","recovered","getData","then","res","console","log","latest_data","data","confirmed","timeline","forEach","push","date","catch","err","labels","datasets","label","backgroundColor","borderWidth","responsive","title","text","display","scales","yAxes","ticks","autoSkip","maxTicksLimit","beginAtZero","gridLines","xAxes"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {Line} from 'react-chartjs-2';\r\nimport CovidTrackerService from '../services/CovidTrackerService';\r\n\r\n// class CovidTrackerComponent extends Component {\r\n\r\n//     constructor(props) {\r\n//         super(props);\r\n//         this.state = {\r\n//             country: []\r\n//         }\r\n//     }\r\n\r\n//     componentDidMount() {\r\n//         CovidTrackerService.getData().then(resp=>{\r\n//             this.setState({country: resp.data});\r\n//         })\r\n//     }\r\n\r\n//     render() {\r\n//         const d = {\r\n//             //labels: labels,\r\n//             datasets: [{\r\n//               label: 'My First Dataset',\r\n//               data: [65, 59, 80, 81, 56, 55, 40],\r\n//               fill: false,\r\n//               borderColor: 'rgb(75, 192, 192)',\r\n//               tension: 0.1\r\n//             }]\r\n//           };\r\n//         return (\r\n//             <Line data = {d}/>\r\n//         )\r\n//     }\r\n// }\r\n\r\nconst CovidTrackerComponent = () => {\r\n    const [chartData, setChartData] = useState({});\r\n    \r\n    const chart = () => {\r\n        let population, total_cases, total_deaths, total_recovered;\r\n        let dates = [], cases = [], deaths = [], recovered = [];\r\n\r\n        CovidTrackerService.getData()\r\n        .then(res=>{\r\n            console.log(res);\r\n            const latest_data = res.data.latest_data;\r\n            console.log(latest_data);\r\n            population = res.population;\r\n            console.log(population);\r\n            total_deaths = latest_data.deaths;\r\n            total_cases = latest_data.confirmed;\r\n            total_recovered = latest_data.recovered;\r\n            res.timeline.forEach(data=>{\r\n                dates.push(data.date);\r\n                cases.push(data.confirmed);\r\n                deaths.push(data.deaths);\r\n                recovered.push(data.recovered);\r\n            })\r\n\r\n            // Getting daily recent 7 days data\r\n            //daily = timeline.slice(0,7);\r\n\r\n        }).catch(err=>console.log(err));\r\n\r\n        console.log(population);\r\n        console.log(cases);\r\n        console.log(deaths);\r\n\r\n\r\n        setChartData({\r\n            labels: [],\r\n            datasets: [{\r\n                label: \"Cumulative\",\r\n                data: cases,\r\n                backgroundColor: [\"rgba(75,192,192,0.6)\"],\r\n                borderWidth: 4\r\n            }]\r\n        });\r\n    }\r\n    useEffect(()=>{chart()}, []);\r\n\r\n    return (\r\n        <Line data = {chartData}\r\n            options = {{\r\n                responsive: true,\r\n                title: {text: \"Cumulative Graph\", display: true},\r\n                scales: {\r\n                    yAxes: [\r\n                        {\r\n                            ticks: {\r\n                                autoSkip: true,\r\n                                maxTicksLimit: 10,\r\n                                beginAtZero: true\r\n                            },\r\n                            gridLines: {\r\n                                display: false\r\n                            }\r\n                        }\r\n                    ],\r\n                    xAxes: [\r\n                        {\r\n                            gridLines: {\r\n                                display: false\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }} />\r\n    );\r\n\r\n}\r\n\r\n\r\nexport default CovidTrackerComponent;\r\n\r\n"]},"metadata":{},"sourceType":"module"}